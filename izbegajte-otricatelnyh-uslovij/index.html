<!DOCTYPE html>
<html lang="ru"  dir="auto" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Избегайте отрицательных условий - Пшерги кодинг</title>
<meta property="og:title" content="Избегайте отрицательных условий - Пшерги кодинг">
<link rel="stylesheet" href="/css/style.css?v=1689805695">
<script src="/js/scripts.js?v=1689805695"></script>
<script>
  if ('serviceWorker' in navigator) navigator.serviceWorker.register('/service-worker.js');
</script>
<meta name="description" content="Разберём на примерах известное правило избегания отрицаний в условиях. Какие бывают отрицания и чем они опасны.">
<link rel="canonical" href="https://eduard-sukharev.github.io/izbegajte-otricatelnyh-uslovij" />
<meta name="generator" content="Eleventy v2.0.0">

<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="manifest" href="/manifest.webmanifest">

<link rel="alternate" type="application/rss+xml"  title="Пшерги кодинг RSS feed (excerpts)" href="/excerpts.xml" />
<link rel="alternate" type="application/rss+xml"  title="Пшерги кодинг RSS feed (full articles)" href="/full.xml" />
<link rel="alternate" type="application/json" title="Пшерги кодинг JSON feed (excerpts)" href="/excerpts.json">
<link rel="alternate" type="application/json" title="Пшерги кодинг JSON feed (full articles)" href="/full.json">
<meta property="og:url" content="https://eduard-sukharev.github.io/izbegajte-otricatelnyh-uslovij/">
<meta property="og:type" content="article">
<meta property="og:image" content="https://eduard-sukharev.github.io/images/share_2023-07-19.webp">
<meta property="twitter:image" content="https://eduard-sukharev.github.io/images/share_2023-07-19.webp">
<meta property="twitter:card" content="summary_large_image">

<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Избегайте отрицательных условий",
        "image": ["https://eduard-sukharev.github.io/images/share_2023-07-19.webp"],
        "author": {
            "@type": "Person",
            "name": "Эдуард Сухарев"
        },
        "mainEntityOfPage": "https://eduard-sukharev.github.io/izbegajte-otricatelnyh-uslovij/",
        "datePublished": "2023-07-19T00:00:00.000Z",
        "description": "Разберём на примерах известное правило избегания отрицаний в условиях. Какие бывают отрицания и чем они опасны."
    }
</script>


  </head>
  <body>
    <a href="#main" id="skipToMain" class="skip-link">К содержимому</a>
<header class="header">
  <input class="menu-btn" type="checkbox" id="menu-btn">
<label class="hamburger" tabindex="0" for="menu-btn">
  <span></span>
</label>
  <div class="main-nav">
  <div class="site-logo">
    <a href="/" title="Пшерги кодинг - Главная">
      
  <img src="/images/logo.jpg" alt="Site logo" />
  <span class="title">Пшерги кодинг</span>

    </a>
  </div>
  <ul class="site-links">
  
  <li>
    <a href="/arhiv/">
      Архив
    </a>
  </li>
  
  <li>
    <a href="/kto-zdes/">
      Обо мне
    </a>
  </li>
  
  <li>
    <a href="/rss/">
      RSS
    </a>
  </li>
  
  </ul>
</div>

  <div class="theme-switcher" tabindex="0">
  <svg class="dark-toggle" viewBox="0 0 455 455" xmlns="http://www.w3.org/2000/svg">
<title>Dark mode switch icon</title>
<polygon points="320.18 162.7 280.63 171.05 307.72 201.05 303.44 241.24 340.34 224.75 377.24 241.24 372.96 201.05 400.05 171.05 360.5 162.7 340.34 127.67"/>
<polygon points="440 325.68 414.09 320.21 400.88 297.25 387.68 320.21 361.77 325.68 379.51 345.33 376.71 371.66 400.88 360.86 425.06 371.66 422.25 345.33"/>
<path d="m218 227.5c0-89.167 51.306-166.34 126-203.64-30.557-15.26-65.022-23.86-101.5-23.86-125.64 0-227.5 101.86-227.5 227.5s101.86 227.5 227.5 227.5c36.478 0 70.943-8.6 101.5-23.86-74.694-37.302-126-114.47-126-203.64z"/>
</svg>

  <svg class="light-toggle" viewBox="0 0 612 612" xmlns="http://www.w3.org/2000/svg"><title>Light mode switch icon</title><path d="m306 149.34c-86.382 0-156.66 70.278-156.66 156.66 0 86.382 70.278 156.66 156.66 156.66s156.66-70.278 156.66-156.66c0-86.384-70.278-156.66-156.66-156.66z"/><path d="m274.19 117.28h63.612c5.032 0 9.356-2.101 11.863-5.763 2.508-3.662 2.9-8.453 1.079-13.146l-34.999-90.112c-2.789-7.184-7.305-8.256-9.749-8.256s-6.96 1.073-9.749 8.255l-35 90.114c-1.821 4.692-1.427 9.482 1.079 13.145 2.507 3.663 6.832 5.763 11.864 5.763z"/><path d="m337.81 494.72h-63.612c-5.032 0-9.357 2.102-11.863 5.764-2.506 3.663-2.9 8.453-1.079 13.145l34.999 90.114c2.789 7.182 7.305 8.254 9.749 8.254s6.96-1.072 9.749-8.254l34.999-90.115c1.821-4.69 1.429-9.48-1.079-13.144-2.507-3.662-6.831-5.764-11.863-5.764z"/><path d="m127.54 190.82c2.412 5.477 7.028 8.746 12.348 8.746 3.644 0 7.257-1.608 10.174-4.526l44.981-44.98c3.558-3.558 5.13-8.102 4.312-12.466-0.819-4.362-3.928-8.028-8.532-10.056l-88.467-38.973c-2.233-0.983-4.336-1.482-6.25-1.482-3.201 0-5.959 1.415-7.568 3.882-1.357 2.081-2.454 5.747 0.031 11.389l38.971 88.466z"/><path d="m484.46 421.18c-2.412-5.477-7.027-8.746-12.346-8.746-3.645 0-7.259 1.609-10.177 4.527l-44.981 44.98c-3.558 3.559-5.13 8.104-4.312 12.466s3.929 8.028 8.532 10.055l88.466 38.974c2.233 0.983 4.336 1.482 6.25 1.482 3.201 0 5.959-1.417 7.568-3.882 1.358-2.083 2.455-5.748-0.03-11.389l-38.97-88.467z"/><path d="m461.94 195.04c2.918 2.918 6.532 4.526 10.176 4.526 5.319 0 9.934-3.269 12.348-8.746l38.972-88.465c2.486-5.643 1.389-9.308 0.031-11.389-1.609-2.467-4.367-3.882-7.568-3.882-1.914 0-4.017 0.499-6.251 1.483l-88.466 38.97c-4.604 2.029-7.715 5.694-8.532 10.057-0.818 4.363 0.754 8.908 4.312 12.466l44.978 44.98z"/><path d="m150.06 416.96c-2.918-2.918-6.532-4.527-10.177-4.527-5.319 0-9.934 3.269-12.346 8.746l-38.972 88.465c-2.486 5.643-1.389 9.308-0.031 11.39 1.609 2.466 4.368 3.882 7.568 3.882 1.914 0 4.017-0.499 6.251-1.484l88.466-38.972c4.604-2.028 7.715-5.694 8.532-10.056 0.818-4.362-0.753-8.907-4.312-12.466l-44.979-44.978z"/><path d="m603.74 296.25-90.111-34.996c-1.942-0.755-3.896-1.137-5.806-1.137-7.593 0-13.104 5.921-13.104 14.078l1e-3 63.613c0 8.157 5.511 14.078 13.104 14.078 1.912 0 3.866-0.382 5.806-1.136l90.112-34.999c7.182-2.79 8.254-7.306 8.254-9.751 0-2.443-1.075-6.961-8.256-9.75z"/><path d="m104.17 351.89c7.594 0 13.106-5.921 13.106-14.078v-63.613c0-8.157-5.511-14.078-13.106-14.078-1.912 0-3.864 0.382-5.805 1.136l-90.113 34.998c-7.182 2.789-8.255 7.305-8.255 9.75 0 2.444 1.072 6.96 8.255 9.752l90.111 34.996c1.942 0.754 3.895 1.137 5.807 1.137z"/></svg>
</div>
</header>

    <div id="main" class="container">
      

<div class="reading-progress-bar"></div>


<article class="single-article">

  
<div class="top-image">
<img src="/images/posts/2023-07-19.webp" alt="" />

<p class="credit">
  Автор фото:
  <a href="https://civitai.com/models/4823/deliberate">Stable Diffusion, Deliberate v2.0 (8-bit)</a>
</p>

</div>


  <header>
    <h1>Избегайте отрицательных условий</h1>
  </header>
  <div class="top-meta">
  <time>19 Jul 2023</time>
  <span class="separator">•</span>  
  <span data-tooltip="201 words" class="tooltip-bottom reading-time">2 минут чтобы прочитать</span>
</div>
  
  <p>Разберём на примерах известное правило избегания отрицаний в условиях. Какие бывают отрицания и чем они опасны.</p>
<p>Начнём с первоисточника</p>
<h2 id="kak-u-dyadi-boba">Как у Дяди Боба</h2>
<blockquote>
<p>G29: Избегайте отрицательных условий
Отрицательные условия немного сложнее для понимания, чем положительные. Таким образом, по возможности старайтесь формулировать положительные условия. Например запись</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">if</span> <span class="token punctuation">(</span>buffer<span class="token punctuation">.</span><span class="token function">shouldCompact</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<p>предпочтительнее записи</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>buffer<span class="token punctuation">.</span><span class="token function">shouldNotCompact</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
</blockquote>
<p>Заметим, что в такой формулировке и с таким примером не совсем ясно чего стоит избегать - логических операторов отрицания или отрицаний при именовании переменных и методов. Однако, кажется, можно сказать что стоит избегать двойного отрицания, как очевидно сложного для восприятия условия.</p>
<p>Что ж, давайте разбираться.</p>
<h2 id="operatory-otricaniya">Операторы отрицания</h2>
<p>Рассмотрим синтетический пример метода проверки авторизации пользователя и соответствующий вариант его использования:</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">AnonymousAuthenticator</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">is_authenticated</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">:</span> Request<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token boolean">True</span>

<span class="token keyword">class</span> <span class="token class-name">PublicController</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">index_action</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">:</span> Request<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">str</span><span class="token punctuation">:</span>
    authenticator <span class="token operator">=</span> AnonymousAuthenticator<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token keyword">not</span> authenticator<span class="token punctuation">.</span>is_authenticated<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token string">"authentication required"</span>

    <span class="token comment"># ...</span>
    <span class="token comment"># do some business logic</span>
    <span class="token comment"># ...</span>

    <span class="token keyword">return</span> <span class="token string">"Successfuly authenticated"</span></code></pre>
<p>Классический ход - если пользователь не авторизован, то сразу же вернём ответ. Если предположить что Роберт Мартин имел ввиду избегать операторы отрицания, то какие у нас есть варианты?</p>
<ul>
<li>Переписать условие так, чтобы не было оператора отрицания. В таком случае основная бизнес логика ляжет внутрь <code>if is_authenticated</code>, а негативный кейс уедет в самый конец, возможно, на пару экранов, где уже будет неясно какое условие там проверялось. Кроме того, весь код получит лишний уровень вложенности, что как известно негативно влияет на его восприятие.</li>
<li>Добавить метод <code>is_not_authenticated</code> в класс <code>AnonymousAuthenticator</code>. В таком случае мы либо получим дублирование логики с методом <code>is_authenticated</code>, которое приведёт к ошибкам в рассинхронизации двух вариантов реализации, либо отрицательное условие с вызовом <code>is_authenticated</code> переместится внутрь этого метода. Да ещё и отрицание теперь будет в названии метода.</li>
<li>Добавить метод <code>is_forbidden</code> в класс <code>AnonymousAuthenticator</code>. Проблемы те же что для предыдущего варианта, но имя уже как будто не содержит отрицания.</li>
</ul>
<p>Все три варианта выглядят сомнительно и имеют свои недостатки, однако последний содержит нюанс, который я рекомендую избегать.</p>
<h2 id="otricaniya-v-yazyke">Отрицания в языке</h2>
<p>Если бы в естественных языках отрицание выражалось только частицами “не” и “нет”, то это были бы очень скудные по выразительности языки.</p>
<p>Рассмотрим каким образом отрицания могут реализовываться в языках программаривания:</p>
<ul>
<li><code>not</code> - отрицание с помощью частиц <code>no</code> и <code>not</code></li>
<li><code>disable</code>, <code>inactive</code> - отрицание с помощью префиксов <code>in-</code>, <code>un-</code>, <code>dis-</code></li>
<li><code>powerOff</code> - отрицание с помощью фразовых глаголов (комбинации глагола и предлога, образующие цельную смысловую единицу)</li>
<li><code>forbid</code>, <code>reject</code> - слова с очевидным или неочевидным отрицанием в их смысловой нагрузке, но формально не попадающие под предыдущие категории</li>
</ul>
<p>Как ни странно, самый безобидный из этих вариантов - именно первый. Рассмотрим пример:</p>
<pre class="language-php"><code class="language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">EditorAccessCheck</span>
<span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token constant">ENABLED</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'enabled'</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">isNotAllowed</span><span class="token punctuation">(</span><span class="token class-name type-declaration">User</span> <span class="token variable">$user</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">bool</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token variable">$user</span><span class="token operator">-></span><span class="token function">isEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">NewsController</span>
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">editAction</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">EditorAccessCheck</span> <span class="token variable">$accessCheck</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token class-name return-type">Response</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$accessCheck</span><span class="token operator">-></span><span class="token function">isNotAllowed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">AccessDeniedResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token function">Response</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Welcome to editor's club!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Использованием метода читается довольно просто и понятно, несмотря на отриание в названии. Заметим что условие, которое проверяется внутри самого метода также содержит отрицание через оператор <code>!</code>, однако и оно не мешает воспринимать код. Проблемы начнутся когда кто-нибудь решит воспользоваться <code>EditorAccessCheck</code> в ином контексте:</p>
<pre class="language-php"><code class="language-php">
<span class="token keyword">class</span> <span class="token class-name-definition class-name">EditorActionSubscriber</span> <span class="token keyword">extends</span> <span class="token class-name">EventSubscriber</span>
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span>
    <span class="token keyword">private</span> <span class="token class-name type-declaration">EditorAccessCheck</span> <span class="token variable">$accessCheck</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">supports</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">bool</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token variable">$this</span><span class="token operator">-></span><span class="token property">accessCheck</span><span class="token operator">-></span><span class="token function">isNotAllowed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">onEvent</span><span class="token punctuation">(</span><span class="token class-name type-declaration">UserActionEvent</span> <span class="token variable">$event</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">void</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// React to $event</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Здесь появляется проблема: <strong>двойное отрицание</strong>. Как избавиться от двойного отрицания в условиях? Изменить условие так, чтобы можно было убрать одно из них. Вот только убрать таким образом можно лишь оператор отрицания, потому что для изменения названия метода придётся пройтись по всей кодовой базе и не просто изменить название вызываемого метода, но и изменить всю логику этих вызовов, чтобы сохранить работоспособность приложения.</p>
<h2 id="neyavnoe-dvojnoe-otricanie">Неявное двойное отрицание</h2>
<p>Все довольно просто когда мы смотрим на переменные с частицами <code>No</code> и <code>Not</code>, однако то же самое касается и вариантов с неявным отрицанием:</p>
<pre class="language-php"><code class="language-php"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$disabled</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">call_when_enabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>или</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">if</span> <span class="token keyword">not</span> inactive<span class="token punctuation">:</span>
  call_when_active<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Оба варианта содержат двойное отрицание, которое сложно воспринимать, даже несмотря на то, что ни одна из переменных не имеет явного отрицания с частицами <code>not</code>.</p>
<h2 id="vyvod">Вывод</h2>
<p>Сам по себе оператор отрицания не несёт в себе ничего плохого и не может рассматриваться как запах кода. Проблемы с пониманием кода возникают при двойном отрицании, которое можно легко исправить если отрицание не заложено — явно или неявно — в имена переменных и методов.</p>
<h2 id="some-shit">Some shit</h2>
<p>Рассмотрим примеры из реальных проектов. Например, отрицание проверки отрицательного флага</p>
<pre class="language-php"><code class="language-php"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$widget</span><span class="token operator">-></span><span class="token function">isFlagEnabled</span><span class="token punctuation">(</span><span class="token class-name static-context">ProductFlag</span><span class="token operator">::</span><span class="token constant">DISABLED</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// do something</span>
<span class="token punctuation">}</span></code></pre>
<p>Чтобы каждый раз не пытаться понять что имелось ввиду, можно инкапсулировать эту логику в метод с понятным названием:</p>
<pre class="language-php"><code class="language-php">    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">isActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">bool</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token variable">$this</span><span class="token operator">-></span><span class="token function">isFlagEnabled</span><span class="token punctuation">(</span><span class="token class-name static-context">ProductFlag</span><span class="token operator">::</span><span class="token constant">DISABLED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<p>Хотя кажется правильней было бы ориентироваться на константу <code>ProductFlag::ENABLED</code></p>
<hr>
<p>Ещё один пример в коде, который пока нельзя назвать проблемой, но уже явно попахивает:</p>
<pre class="language-php"><code class="language-php"><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name-definition class-name">WidgetFlag</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">DISABLED</span> <span class="token operator">=</span> <span class="token number">0x0001</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">array</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">DISABLED</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'Выключено'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Что мы видим:</p>
<ul>
<li>Константа с неявным отрицательным смыслом;</li>
<li>Из значения <code>0x0001</code> можно сделать предположение, что есть, вероятно среди возможных значений хранящихся в БД или приходящих по API, ещё неявная положительная константа <code>ACTIVE = 0x0000;</code></li>
</ul>
<hr>
<p>Иногда плохие примеры получаются из-за проблем самого языка. Например в некоторых языках различные типы могут неявно приводиться к булеву типу, причем с различными побочными эффектами. И бывает так что для борьбы с этим выбирают не самые удачные решения:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">isAdmin</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token string">'admin'</span> <span class="token keyword">in</span> user<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span>user<span class="token punctuation">.</span>admin <span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span></code></pre>
<hr>
<p>Прилагательное вместо глагола inactive -&gt; deactivate / setInactive:</p>
<pre class="language-php"><code class="language-php"><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">inactive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">void</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-></span><span class="token property">isActive</span> <span class="token operator">=</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="vmesto-zaklyucheniya">Вместо заключения</h2>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>disabled<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre>
<p>Мы вероятно уже привыкли и это уже не исправить, но это отвратительно: двойное отрицание которое всё же отрицание</p>

</article>

<div class="author-info">
  <p>Впервые опубликовано <time>19 July 2023</time> от Эдуард Сухарев</p>
</div>
<div class="bottom-meta">
  
<div class="post-tags">

  <p>Теги:</p>
  <ul>
  
    <li>
      <a title="Статьи с тегом 'Чистый код'" href="/tag/chistyj-kod/">Чистый код</a>
    </li>
  
    <li>
      <a title="Статьи с тегом 'Рефакторинг'" href="/tag/refaktoring/">Рефакторинг</a>
    </li>
  
    <li>
      <a title="Статьи с тегом 'Best practices'" href="/tag/best-practices/">Best practices</a>
    </li>
  
  </ul>

</div>

  
  <div class="share-buttons">
    <p>Поделиться статьёй:</p>

    
      <div class="mastodon-share-dialog">
  <p><b>Куда?</b></p>
  <p>Clicking Share will open a new browser tab. Make sure your browser permits websites to open new tabs.</p>
  <p>You will be able to modify your status contents before submitting.</p>
  <p>Пример: <code>mastodon.social</code></p>
  <form class="mastodon-share-form">
    <input type="text" class="instance-url-input" />
    <input class="share-form-submit" type="submit" value="Поделиться" disabled />
  </form>
  <p><span class="close-link" tabindex="0">Закрыть это окно</span></p>
</div>
    

    
    <ul>

      
      <li>
        <div data-tooltip="Поделиться Mastodon - opens prompt window" class="mastodon" tabindex="0">
          <svg role="img" viewBox="0 0 61 65" xmlns="http://www.w3.org/2000/svg"><title>Mastodon icon</title><path class="fillable" d="m60.754 14.39c-0.9396-6.984-7.0266-12.488-14.242-13.554-1.2174-0.18021-5.8298-0.83607-16.514-0.83607h-0.0798c-10.688 0-12.98 0.65585-14.198 0.83607-7.0147 1.037-13.421 5.9825-14.975 13.049-0.74757 3.4802-0.82735 7.3385-0.68847 10.878 0.19797 5.0755 0.23638 10.142 0.69734 15.197 0.31867 3.3577 0.87458 6.6886 1.6636 9.9678 1.4774 6.0563 7.458 11.096 13.317 13.152 6.2733 2.1443 13.02 2.5003 19.484 1.0281 0.7111-0.1654 1.4134-0.3574 2.1068-0.5761 1.5719-0.4992 3.4128-1.0576 4.7661-2.0384 0.0186-0.0138 0.0338-0.0316 0.0445-0.052 0.0108-0.0205 0.0168-0.0431 0.0176-0.0662v-4.8982c-4e-4 -0.0216-0.0055-0.0428-0.0151-0.0622-0.0096-0.0193-0.0234-0.0363-0.0404-0.0496s-0.0368-0.0226-0.0579-0.0273c-0.021-0.0047-0.0429-0.0046-0.0639 2e-4 -4.1416 0.9892-8.3856 1.485-12.644 1.4772-7.3279 0-9.2988-3.4772-9.8631-4.9248-0.4537-1.2511-0.7418-2.5562-0.8569-3.882-0.0012-0.0222 0.0029-0.0445 0.0119-0.0649 9e-3 -0.0203 0.0227-0.0383 0.04-0.0524s0.0376-0.024 0.0594-0.0287c0.0218-0.0048 0.0444-0.0043 0.066 0.0013 4.0725 0.9824 8.2473 1.4782 12.437 1.4771 1.0075 0 2.0122 0 3.0198-0.0266 4.2135-0.1182 8.6546-0.3338 12.8-1.1433 0.1034-0.0207 0.2069-0.0384 0.2955-0.065 6.539-1.2556 12.762-5.1966 13.394-15.176 0.0236-0.3929 0.0827-4.1153 0.0827-4.523 0.0029-1.3856 0.4462-9.829-0.065-15.017z"/><path class="fillable-2" d="m50.394 22.237v17.351h-6.8758v-16.84c0-3.5452-1.4774-5.3532-4.4825-5.3532-3.3035 0-4.9582 2.1389-4.9582 6.3636v9.2174h-6.8344v-9.2174c0-4.2247-1.6577-6.3636-4.9612-6.3636-2.9873 0-4.4795 1.808-4.4795 5.3532v16.84h-6.8729v-17.351c0-3.5452 0.9052-6.3616 2.7155-8.4493 1.8675-2.0828 4.317-3.1522 7.3575-3.1522 3.5192 0 6.1785 1.353 7.9514 4.0562l1.7108 2.8716 1.7138-2.8716c1.7729-2.7032 4.4322-4.0562 7.9455-4.0562 3.0376 0 5.4871 1.0694 7.3604 3.1522 1.8084 2.0857 2.7116 4.9022 2.7096 8.4493z"/></svg>

        </div>
      </li>
      

      

      

      

      

      

    
    <ul>

      

      
      <li>
        <a target="_blank" rel="noopener noreferrer" data-tooltip="Поделиться Twitter - откроется в новой вкладке" rel="noopener noreferrer" href="https://twitter.com/intent/tweet/?text=Избегайте отрицательных условий&amp;url=https://eduard-sukharev.github.io/izbegajte-otricatelnyh-uslovij/" class="twitter">
          <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Twitter icon</title><path class="fillable" d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg>
        </a>
      </li>
      

      

      

      

      

    
    <ul>

      

      

      
      <li>
        <a target="_blank" rel="noopener noreferrer" data-tooltip="Поделиться Linkedin - откроется в новой вкладке" rel="noopener noreferrer" href="https://www.linkedin.com/sharing/share-offsite/?url=https://eduard-sukharev.github.io/izbegajte-otricatelnyh-uslovij/" class="linkedin">
          <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>LinkedIn icon</title><path class="fillable" d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"/></svg>
        </a>
      </li>
      

      

      

      

    
    <ul>

      

      

      

      

      

      
      <li>
        <div class="clipboard" rel="noopener noreferrer" data-tooltip="Скопировать URL" tabindex="0">
          <svg role="img" viewBox="0 0 115.77 122.88" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><title>Copy to clipboard icon</title><path class="fillable" d="m89.62 13.96v7.73h12.2v0.02c3.85 0.01 7.34 1.57 9.86 4.1 2.5 2.51 4.06 5.98 4.07 9.82h0.02v73.3h-0.02c-0.01 3.84-1.57 7.33-4.1 9.86-2.51 2.5-5.98 4.06-9.82 4.07v0.02h-61.73v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-16.43h-12.2v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-64.62h0.02c0.01-3.85 1.58-7.34 4.1-9.86 2.51-2.5 5.98-4.06 9.82-4.07v-0.02h61.73v0.02c3.85 0.01 7.34 1.57 9.86 4.1 2.5 2.51 4.06 5.98 4.07 9.82h0.02v0.02zm-10.58 7.73v-7.75h0.02c0-0.91-0.39-1.75-1.01-2.37-0.61-0.61-1.46-1-2.37-1v0.02h-61.73v-0.02c-0.91 0-1.75 0.39-2.37 1.01-0.61 0.61-1 1.46-1 2.37h0.02v64.62h-0.02c0 0.91 0.39 1.75 1.01 2.37 0.61 0.61 1.46 1 2.37 1v-0.02h12.2v-46.28h0.02c0.01-3.85 1.58-7.34 4.1-9.86 2.51-2.5 5.98-4.06 9.82-4.07v-0.02h38.94zm26.14 87.23v-73.29h0.02c0-0.91-0.39-1.75-1.01-2.37-0.61-0.61-1.46-1-2.37-1v0.02h-61.73v-0.02c-0.91 0-1.75 0.39-2.37 1.01-0.61 0.61-1 1.46-1 2.37h0.02v73.3h-0.02c0 0.91 0.39 1.75 1.01 2.37 0.61 0.61 1.46 1 2.37 1v-0.02h61.73v0.02c0.91 0 1.75-0.39 2.37-1.01 0.61-0.61 1-1.46 1-2.37h-0.02v-0.01z" /></svg>
        </div>
      </li>
      

    
    </ul>
  </div>

</div>
<div class="post-navigation">
  <ul>
    <li>
      
    </li>
    <li>
      
    </li>
  </ul>
</div>

<div class="scroll-up-arrow" tabindex="0">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><g><path class="fillable" d="M990,699.9c0,8.1,0,16.3-8.1,24.4c-16.3,16.3-40.7,16.3-56.9,0L502,350.2L79.1,732.4c-16.3,16.3-40.7,16.3-56.9,0c-16.3-16.3-16.3-40.7,0-56.9l447.3-406.6c24.4-16.3,40.7-16.3,56.9-8.1l447.3,406.6C981.9,675.5,990,691.8,990,699.9z"></path></g></svg>

</div>

      <footer class="footer">
  <div class="container">
    <div class="links">
  <ul>

  <li>
    <a href="/arhiv/">
      <span>Архив</span>
    </a>
  </li>

  <li>
    <a href="/kto-zdes/">
      <span>Обо мне</span>
    </a>
  </li>

  <li>
    <a href="/rss/">
      <span>RSS</span>
    </a>
  </li>

</ul>    
  
<ul>

  <li><a href="https://t.me/kraplax"><span>Telegram</span></a></li>

</ul>

</div>
    <div class="copyright">
  &copy; 2023-2023 <a href="https://eduard-sukharev.github.io/">Эдуард Сухарев</a><br>
  Работает на законах физики и <a href="https://11ty.dev">Eleventy</a><br>
  Шаблон: <a href="https://github.com/lwojcik/eleventy-template-bliss">Bliss</a> от <a href="https://offbeatbits.com">Offbeat Bits</a>
</div>
  </div>
</footer>

    </div>
  </body>
</html>